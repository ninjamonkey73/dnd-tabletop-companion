<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<div mat-card class="card-container">
  <div>
    <mat-form-field>
      <mat-label>Character Class</mat-label>
      <mat-select id="class" [(ngModel)]="character.class" (change)="updateClass()">
        <mat-option value="Monk">Monk</mat-option>
        <mat-option value="Fighter">Fighter</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-card-title class="card-title">Hit Points</mat-card-title>
  </div>
  <mat-card-content>
    <table class="black-bordered-table">
      <tr>
        <td>Current HP</td>
        <td>
          <tr class="maxHP">
          <td>Max HP</td>
          <button class="edit" mat-fab extended (click)="editMaxHP()">
            <span class="material-symbols-outlined">edit</span>
          </button>
        </tr>
        </td>
        <td>% of Max</td>
      </tr>
      <tr>
        <td>{{ character.currentHP }}</td>
        <td>
          <!-- Conditionally render input or plain text -->
          <ng-container *ngIf="isEditingMaxHP; else displayMaxHP">
            <input
              matInput
              type="number"
              [(ngModel)]="character.maxHP"
              class="hp-input"
              placeholder="Enter Max HP"
              (keydown.enter)="onEnterMaxHP()"
            />
          </ng-container>
          <ng-template #displayMaxHP>
            {{ character.maxHP }}
          </ng-template>
        </td>
        <td>{{ percentHP }}%</td>
      </tr>
    </table>
    <div>
      <mat-form-field appearance="fill" class="HPInput">
        <input matInput placeholder="HP to +/-" type="number" [(ngModel)]="changeVal" class="hp-input" />
      </mat-form-field>
    </div>

<mat-card-footer>
  <span class="button-container">
    <button mat-fab extended class="hurt-button" (click)="hurt()">
      <span class="material-symbols-outlined">remove</span>
      Hurt
    </button>
  </span>
  <span class="button-container">
    <button mat-fab extended class="heal-button" (click)="heal()">
      <span class="material-symbols-outlined">add</span>
      Heal
    </button>
  </span>
</mat-card-footer>
</mat-card-content>
</div>
<br>
<mat-card-content>
  <table class="money">
    <tr>
      <td id="money">
        <mat-form-field appearance="fill" class="cp-input">
          <mat-label>Copper</mat-label>
          <input matInput type="number" [(ngModel)]="character.cp" class="cp-input" (change)="updateMoney()"/>
        </mat-form-field>
      </td>
      <td id="money">
        <mat-form-field appearance="fill" class="sp-input">
          <mat-label>Silver</mat-label>
          <input matInput type="number" [(ngModel)]="character.sp" class="sp-input" (change)="updateMoney()"/>
        </mat-form-field>
      </td>
      <td id="money">
        <mat-form-field appearance="fill" class="gp-input">
          <mat-label>Gold</mat-label>
          <input matInput type="number" [(ngModel)]="character.gp" class="gp-input" (change)="updateMoney()"/>
        </mat-form-field>
      </td>
      <td id="money">
        <mat-form-field appearance="fill" class="pp-input">
          <mat-label>Platinum</mat-label>
          <input matInput type="number" [(ngModel)]="character.pp" class="pp-input" (change)="updateMoney()"/>
        </mat-form-field>
      </td>
    </tr>
  </table>
</mat-card-content>
@if (character.class === "Monk") {
<div mat-card class="card-container">
  <div>
    <mat-card-title class="card-title">Ki Points</mat-card-title>
  </div>
  <div>
    <mat-form-field appearance="fill" class="ki-input">
      <input matInput type="number" [(ngModel)]="character.kiPoints" class="ki-input" (change)="updateKi()"/>
    </mat-form-field>
  </div>
</div>
}
<router-outlet />
